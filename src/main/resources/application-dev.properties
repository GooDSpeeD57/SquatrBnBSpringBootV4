# =====================================================
# Configuration pour l'environnement de DÉVELOPPEMENT
# Activer avec: --spring.profiles.active=dev
# =====================================================

# Logs plus verbeux en dev
logging.level.training.afpa.cda24060=debug
logging.level.org.springframework.web=debug

# Configuration base de données dev
spring.datasource.url=jdbc:mysql://localhost:3306/squatrbnb_dev?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=Root

# Créer/mettre à jour automatiquement le schéma
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Afficher plus de détails sur les erreurs
server.error.include-stacktrace=always

# =====================================================
# ✅ CORRECTIONS Spring Boot 4 - Jackson 3
# =====================================================
# Jackson 3 sérialise les dates en ISO-8601 par défaut (plus besoin de désactiver WRITE_DATES_AS_TIMESTAMPS)
# Si vous voulez forcer l'ancien comportement Jackson 2, décommentez:
# spring.jackson.datetime.WRITE_DATES_AS_TIMESTAMPS=true

# ✅ NOUVEAU en Boot 4: prefixe spring.jackson.json.* pour les features JSON spécifiques
# (avant c'était spring.jackson.* directement pour certaines features)
# Exemple: spring.jackson.json.read.ACCEPT_SINGLE_VALUE_AS_ARRAY=true

# ✅ NOUVEAU en Boot 4: versioning d'API natif (optionnel)
# Décommentez si vous utilisez version="1" dans @RequestMapping:
# spring.mvc.apiversion.use.request-header=API-Version
