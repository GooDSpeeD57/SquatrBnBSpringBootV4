# =====================================================
# Configuration pour l'environnement de PRODUCTION
# Activer avec: --spring.profiles.active=prod
# =====================================================

# Logs en production
logging.level.training.afpa.cda24060=info
logging.level.root=warn

# Configuration base de données via variables d'environnement
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}

# JAMAIS create ou create-drop en production !
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# Ne pas exposer les détails des erreurs
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never

# Configuration sécurité supplémentaire
server.tomcat.remoteip.protocol-header=x-forwarded-proto
server.tomcat.remoteip.remote-ip-header=x-forwarded-for

# Pool de connexions optimisé pour production
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
